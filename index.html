<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNY Photo Booth Pro</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;600&display=swap" rel="stylesheet">
</head>
<body>

    <div class="container">
        <section id="step-welcome" class="active">
            <h1>üßß ‡∏ï‡∏π‡πâ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ï‡∏£‡∏∏‡∏©‡∏à‡∏µ‡∏ô üßß</h1>
            <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ü‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</p>
            
            <div class="layout-selector">
                <button class="layout-btn" onclick="selectLayout('strip3')">
                    <div class="icon-strip-3"></div>
                    <span>3 ‡∏ä‡πà‡∏≠‡∏á (‡∏ï‡∏±‡πâ‡∏á)</span>
                </button>
                <button class="layout-btn" onclick="selectLayout('strip4')">
                    <div class="icon-strip-4"></div>
                    <span>4 ‡∏ä‡πà‡∏≠‡∏á (‡∏ï‡∏±‡πâ‡∏á)</span>
                </button>
                <button class="layout-btn" onclick="selectLayout('grid2x2')">
                    <div class="icon-grid-2x2"></div>
                    <span>4 ‡∏ä‡πà‡∏≠‡∏á (‡∏à‡∏±‡∏ï‡∏∏‡∏£‡∏±‡∏™)</span>
                </button>
                <button class="layout-btn" onclick="selectLayout('grid3x3')">
                    <div class="icon-grid-3x3"></div>
                    <span>9 ‡∏ä‡πà‡∏≠‡∏á (‡∏£‡∏ß‡∏°‡∏°‡∏¥‡∏ï‡∏£)</span>
                </button>
            </div>
        </section>

        <section id="step-camera" class="hidden">
            <div class="camera-wrapper">
                <video id="video" autoplay playsinline></video>
                <div id="countdown"></div>
            </div>
            <p id="status-text">‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß...</p>
        </section>

        <section id="step-edit" class="hidden">
            <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏°‡∏á‡∏Ñ‡∏•</h2>
            <div class="frame-container" id="preview-container">
                <div id="photo-grid" class="photo-grid">
                    </div>
                <div id="final-blessing" class="blessing-text"></div>
            </div>
            
            <div class="controls">
                <div class="color-options">
                    <button class="color-btn black" onclick="applyFrame('black')"></button>
                    <button class="color-btn white" onclick="applyFrame('white')"></button>
                    <button class="color-btn gold" onclick="applyFrame('gold')"></button>
                    <button class="color-btn red" onclick="applyFrame('red')"></button>
                </div>
                <p id="blessing-display">...‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£...</p>
                <button class="btn-primary" id="save-btn" onclick="uploadAndGenerate()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö QR Code</button>
                <button class="btn-secondary" onclick="location.reload()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
            </div>
        </section>

        <section id="step-result" class="hidden">
            <h2>üéâ ‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß!</h2>
            <div id="qrcode-area">
                <div id="qrcode"></div>
                <p>‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏π‡∏õ‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö</p>
            </div>
            <div id="final-image-show"></div>
            <a id="download-link" class="btn-primary">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</a>
            <button class="btn-secondary" onclick="location.reload()">‡∏ñ‡πà‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</button>
        </section>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
