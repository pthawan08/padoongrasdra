<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNY Photo Booth</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;600&display=swap" rel="stylesheet">
</head>
<body>

    <div class="container">
        <section id="step-welcome" class="active">
            <h1>üßß ‡∏ï‡∏π‡πâ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ï‡∏£‡∏∏‡∏©‡∏à‡∏µ‡∏ô üßß</h1>
            <p>‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡πÄ‡∏Æ‡∏á‡πÜ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏Å‡πá‡∏ö‡∏†‡∏≤‡∏û‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏ó‡∏±‡∏ö‡πÉ‡∏à</p>
            <button class="btn-primary" onclick="startCamera()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ</button>
        </section>

        <section id="step-camera" class="hidden">
            <div class="camera-wrapper">
                <video id="video" autoplay playsinline></video>
                <div id="countdown"></div>
            </div>
            <p id="status-text">‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß...</p>
        </section>

        <section id="step-edit" class="hidden">
            <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏£‡∏≠‡∏ö‡∏™‡∏µ‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
            <div class="preview-bg" id="preview-container">
                <div id="photo-grid" class="photo-grid">
                    </div>
                <div id="final-blessing" class="blessing-text"></div>
            </div>
            
            <div class="controls">
                <div class="color-options">
                    <button class="color-btn black" onclick="applyFrame('black')"></button>
                    <button class="color-btn white" onclick="applyFrame('white')"></button>
                    <button class="color-btn gold" onclick="applyFrame('gold')"></button>
                    <button class="color-btn red" onclick="applyFrame('red')"></button>
                </div>
                <p id="blessing-display">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£</p>
                <button class="btn-primary" id="save-btn" onclick="uploadAndGenerate()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </div>
        </section>

        <section id="step-result" class="hidden">
            <h2>üéâ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
            <div id="qrcode-area">
                <div id="qrcode"></div>
                <p>‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ</p>
            </div>
            <div id="final-image-show"></div>
            <a id="download-link" class="btn-primary">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</a>
            <button class="btn-secondary" onclick="location.reload()">‡∏ñ‡πà‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</button>
        </section>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>
</html>