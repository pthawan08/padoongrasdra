/* --- CNY Color Palette --- */
:root {
    --cny-red: #C70000;       /* แดงสดแบบมงคล */
    --cny-dark-red: #8A0000;  /* แดงเข้มสำหรับเงา */
    --cny-gold: #FFD700;      /* ทองสว่าง */
    --cny-gold-dark: #DAA520; /* ทองเข้ม */
    --cny-bg: #FFFCE0;        /* พื้นหลังครีมๆ เหมือนกระดาษโบราณ */
    --text-dark: #333333;
    --text-cream: #FFFCE0;
}

body {
    font-family: 'Kanit', sans-serif;
    background-color: var(--cny-bg);
    /* เพิ่มลายน้ำจางๆ (ถ้าชอบ) */
    background-image: radial-gradient(circle at 50% 50%, #fffce0 0%, #f7f2c5 100%);
    margin: 0;
    text-align: center;
    display: flex;
    justify-content: center;
    min-height: 100vh;
    color: var(--text-dark);
}

.container {
    width: 100%;
    max-width: 500px;
    padding: 25px;
    box-sizing: border-box;
}

.hidden { display: none !important; }
.active { display: block !important; }

/* Typography */
h1 {
    color: var(--cny-red);
    margin-bottom: 15px;
    font-weight: 800;
    font-size: 2.2rem;
    /* เพิ่มเงาสีทองให้ดูอลังการ */
    text-shadow: 2px 2px 0 var(--cny-gold-dark), -1px -1px 0 var(--cny-gold);
}
h2 { color: var(--cny-red); }
p { font-weight: 500; }

/* --- Layout Selector Buttons (หน้าแรก) --- */
.layout-selector {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 25px;
}

.layout-btn {
    background: #fff;
    /* ขอบแดง */
    border: 3px solid var(--cny-red);
    border-radius: 12px;
    padding: 15px;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 8px rgba(199, 0, 0, 0.15);
}

.layout-btn:hover {
    /* hover แล้วเปลี่ยนเป็นแดงขอบทอง */
    background: var(--cny-red);
    border-color: var(--cny-gold);
    transform: translateY(-5px);
    box-shadow: 0 8px 15px rgba(199, 0, 0, 0.3);
}

.layout-btn span {
    font-weight: bold;
    color: var(--cny-red);
    font-size: 0.95rem;
    transition: color 0.3s;
}
.layout-btn:hover span { color: var(--cny-gold); }

/* Icons (วาดด้วย CSS) - ปรับสีให้เข้าธีม */
[class^="icon-"] { border-color: var(--cny-red); transition: border-color 0.3s; }
[class^="icon-"]::before, [class^="icon-"]::after, .icon-grid-2x2 div { border-color: var(--cny-red); transition: border-color 0.3s; }
.layout-btn:hover [class^="icon-"] { border-color: var(--cny-gold); }
.layout-btn:hover [class^="icon-"]::before, .layout-btn:hover [class^="icon-"]::after, .layout-btn:hover .icon-grid-2x2 div { border-color: var(--cny-gold); }

.icon-strip-2 { width: 30px; height: 40px; border: 2px solid; display: flex; flex-direction: column; }
.icon-strip-2::before { content:''; flex:1; border-bottom: 1px solid; }
.icon-strip-3 { width: 30px; height: 45px; border: 2px solid; display: flex; flex-direction: column; }
.icon-strip-3::before, .icon-strip-3::after { content:''; flex:1; border-bottom: 1px solid; }
.icon-strip-4 { width: 30px; height: 50px; border: 2px solid; display: flex; flex-direction: column; } 
.icon-strip-4::before { content:''; flex:1; border-bottom: 1px solid; } .icon-strip-4::after { content:''; flex:1; border-top: 1px solid; }
.icon-grid-2x2 { width: 40px; height: 40px; border: 2px solid; display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; }
.icon-grid-2x2 div { border: 1px solid; }

/* --- Camera Section --- */
.camera-wrapper {
    position: relative;
    width: 100%;
    padding-bottom: 133.33%;
    background: #000;
    overflow: hidden;
    border-radius: 15px;
    margin-bottom: 20px;
    /* เพิ่มขอบทองให้จอกล้อง */
    border: 4px solid var(--cny-gold);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}
video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1); }
#countdown {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    font-size: 7rem; color: var(--cny-gold); /* ตัวเลขสีทอง */
    font-weight: 800;
    text-shadow: 2px 2px 0 var(--cny-red), -2px -2px 0 var(--cny-red), 0 0 20px var(--cny-gold); /* ขอบแดง+เรืองแสง */
    display: none;
}
#status-text { font-size: 1.2rem; color: var(--cny-red); font-weight: bold; }

/* --- Preview Frame & Grid --- */
.frame-container {
    padding: 20px;
    /* พื้นหลังแดง ไล่โทน */
    background: linear-gradient(to bottom right, var(--cny-red), var(--cny-dark-red));
    /* ขอบทองซ้อนแดงสุดหรู */
    border: 4px solid var(--cny-gold);
    outline: 3px solid var(--cny-red);
    border-radius: 8px;
    box-shadow: 0 15px 30px rgba(138, 0, 0, 0.3);
    margin-bottom: 25px;
}
.photo-grid { display: grid; gap: 10px; background: #fff; padding: 10px; border-radius: 4px;}

/* Configs for Grids (เหมือนเดิม) */
.grid-strip2 { grid-template-columns: 1fr; }
.grid-strip3 { grid-template-columns: 1fr; }
.grid-strip4 { grid-template-columns: 1fr; }
.grid-2x2 { grid-template-columns: 1fr 1fr; aspect-ratio: 1/1; }

/* Photo Slots */
.photo-slot { width: 100%; background-color: #eee; background-size: cover; background-position: center; border: 1px solid #ddd; }
.grid-strip2 .photo-slot { aspect-ratio: 4/3; }
.grid-strip3 .photo-slot { aspect-ratio: 4/3; }
.grid-strip4 .photo-slot { aspect-ratio: 4/3; }
.grid-2x2 .photo-slot { aspect-ratio: 1/1; }

.blessing-text {
    margin-top: 15px; font-size: 1.3rem;
    color: var(--cny-gold); /* คำอวยพรสีทอง */
    font-weight: bold; font-family: 'Kanit'; line-height: 1.4;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}

/* --- UI Controls & Buttons --- */
.color-options { display: flex; justify-content: center; gap: 15px; margin: 20px 0; }
.color-btn {
    width: 45px; height: 45px; border-radius: 50%;
    border: 3px solid rgba(255,255,255,0.5); cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1); transition: transform 0.2s;
}
.color-btn:hover { transform: scale(1.1); }
.color-btn.black { background: #1a1a1a; } .color-btn.white { background: #fff; }
.color-btn.gold { background: linear-gradient(45deg, var(--cny-gold), var(--cny-gold-dark)); }
.color-btn.red { background: linear-gradient(45deg, var(--cny-red), var(--cny-dark-red)); }

#blessing-display { color: var(--cny-red); font-weight: bold; font-size: 1.1rem; }

/* ปุ่มหลักสไตล์อั่งเปา */
.btn-primary {
    /* ไล่โทนแดง */
    background: linear-gradient(to bottom, var(--cny-red), var(--cny-dark-red));
    color: var(--cny-gold); /* ตัวหนังสือสีทอง */
    border: 2px solid var(--cny-gold); /* ขอบทอง */
    padding: 14px 25px;
    border-radius: 50px;
    font-size: 1.1rem;
    cursor: pointer; text-decoration: none; display: inline-block; width: 100%; box-sizing: border-box; margin-top: 15px;
    font-weight: 700;
    /* เงาแบบมีมิติ */
    box-shadow: 0 4px 0 var(--cny-dark-red), 0 8px 15px rgba(0,0,0,0.2);
    transition: all 0.15s;
    text-shadow: 1px 1px 0 rgba(0,0,0,0.2);
}

.btn-primary:hover {
    transform: translateY(2px); /* กดแล้วยุบลง */
    box-shadow: 0 2px 0 var(--cny-dark-red), 0 4px 8px rgba(0,0,0,0.2);
    background: linear-gradient(to bottom, #d90000, var(--cny-red)); /* สว่างขึ้นนิดนึง */
}

.btn-primary:disabled {
    background: #ccc; border-color: #aaa; color: #888;
    box-shadow: none; transform: none; cursor: wait;
}

.btn-secondary {
    background: transparent; border: none; color: var(--cny-red);
    margin-top: 15px; cursor: pointer; text-decoration: underline;
    font-size: 0.95rem; font-weight: 600;
}

/* --- Result Page --- */
#qrcode-area {
    background: #fff; padding: 20px; border-radius: 15px;
    display: inline-block; margin-bottom: 20px;
    border: 3px solid var(--cny-red); /* กรอบแดงให้ QR */
    box-shadow: 0 10px 20px rgba(199, 0, 0, 0.1);
}
#qrcode { display: flex; justify-content: center; margin-bottom: 10px; }
.small-text { font-size: 0.9rem; color: var(--cny-red); font-weight: bold; margin: 0; }

#final-image-show img {
    width: 100%; border-radius: 12px; margin-bottom: 15px;
    border: 3px solid var(--cny-gold); /* รูปผลลัพธ์มีขอบทอง */
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}
